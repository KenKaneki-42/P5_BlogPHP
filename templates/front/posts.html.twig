{% extends 'base.html.twig' %}

{% block body %}
	<h1>Liste des derniers articles</h1>
	
	<div class="news">
		{% for post in posts %}
			<a href="/posts/{{ post.id }}" class="card-link">
				<div class="blog-post">
					<h2 class="blog-post-title">{{ post.title }}</h2>
					<p class="blog-post-tagline">{{ post.tagline }}</p>
					<p class="blog-post-content">{{ post.content|raw }}</p>
					<div class="blog-post-meta d-flex justify-content-between">
						<em>Publié le {{ post.createdAt|date("Y-m-d à H:i") }} </em>
						<a href="/posts/{{ post.id }}/comments" class="">Voir les commentaires ({{ post.comments|length }})</a>
					</div>
				</div>
			</a>
			{# <div class="bg-white">
						        <p>{{post.id}}<p>
						        <h3>{{ post.title|raw  }}</h3>
						        <h4>{{post.tagline|raw }}</h4>
						        <p>{{ post.content|raw  }}</p>
						        <p>
						          <em>le {{ post.createdAt|date("Y-m-d à H:i") }}</em>
						          <br />
						          <em>
						            <a href="/posts/{{ post.id }}">Commentaires</a>

						            {# ({{ post.comments|length }} commentaires) #}
		{# {% if post.comments is not empty %}
				            <ul>
				              {% for comment in post.comments %}
				                <li>{{ comment.content }}</li>
				              {% endfor %}
				            </ul>
				            {% else %}
				              <p>Aucun commentaire pour le moment.</p>
				            {% endif %}
				          </em> #}
			{# </p> #}
			{# </div> #}
		{% endfor %}
	</div>
{% endblock %}
