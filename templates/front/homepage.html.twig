{% extends 'base.html.twig' %}

{% block title %}homepage
{% endblock %}

{% block style %}
	{{parent()}}
	<!-- CDN FontAwesome 5 -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous">
{% endblock %}

{% block body %}
	<section class="d-flex flex-column align-items-center py-3 bg-img-wood ">
		<img class="profil-image profil-image-border" src="https://media.licdn.com/dms/image/C4D03AQEgxSkEJmko9A/profile-displayphoto-shrink_800_800/0/1537731189034?e=1712793600&v=beta&t=RGMpFAxoa4FPk6e5EZ21AKIyMY9dvZMYltxfT0LZ6Q4" alt="profil picture">
		<div class="text-center">
			<p class="mt-3">
				<strong>VANDERMEERSCH Sylvain</strong>
			</p>
			<p>Le Web Developpeur avec un MMR de folie!</p>
      <i class="fas fa-arrow-right"></i>
			<a href="mailto:sylvain.vandermeersch@gmail.com">CV en PDF</a>
		</div>
	</section>

	<section class=" d-flex flex-column py-3 txt-primary-color ">
		<h2 class="text-center">Contact</h2>
		<div class="container contact-form-container">
			{% include 'front/formContact.html.twig' %}
			{# {% include "front/modalSuccessEmail.html.twig" %} #}
			<!-- success modal -->
				{% if emailSent %}
					<div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="successModalLabel">E-mail envoyé avec succès</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								Votre e-mail a été envoyé avec succès.
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
							</div>
						</div>
					</div>
				</div>
			{% endif %}
		</div>
	</section>
{% endblock %}

{% block footer %}
	<section class="links container mt-5">
		<ul class="list-unstyled d-flex justify-content-center">
			<li class="me-3">
				<a href="https://www.linkedin.com/in/vandermeersch-sylvain-developer-back-end/" target="_blank" class="text-decoration-none">
					<i class="fab fa-linkedin fa-2x"></i>
				</a>
			</li>
			<li>
				<a href="https://github.com/KenKaneki-42" target="_blank" class="text-decoration-none">
					<i class="fab fa-github fa-2x"></i>
				</a>
			</li>
		</ul>
	</section>
{% endblock %}

{% block js %}
	{{ parent() }}
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
	<script>
    document.addEventListener('DOMContentLoaded', (event) => {
    // Analyser les paramètres d'URL
    const urlParams = new URLSearchParams(window.location.search);
    if(urlParams.get('emailSent') === 'true') {
      var myModal = new bootstrap.Modal(document.getElementById('successModal'), {
        keyboard: false
      });
      myModal.show();
      urlParams.delete('emailSent');
      const newUrl = window.location.pathname;
      history.pushState({}, '', newUrl);
    }
    });
	</script>
{% endblock %}
